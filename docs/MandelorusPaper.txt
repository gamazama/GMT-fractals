
THE MANDELORUS: TOPOLOGICAL FIDELITY IN 3D FRACTAL GENERATION

AUTHORS: Guy Zack
DATE: October 2023

ABSTRACT

This paper presents the "Mandelorus," a novel three-dimensional extension of the Mandelbrot set. While the White/Nylander "Mandelbulb" successfully projected the set into 3D using spherical coordinates, it introduced a significant topological defect: geometric distortion and texture pinching at the poles (North/South). We propose that the search for the "True 3D Analogue" of the Mandelbrot set requires preserving the integrity of the complex plane without singularity. We demonstrate that mapping the iteration onto a Toroidal manifold (a fiber bundle of complex planes over a circle) solves the polar distortion problem, resulting in a solenoid-like structure that maintains high-fidelity 2D Mandelbrot characteristics throughout its volume.

1. MOTIVATION: THE SPHERICAL FLAW

The search for a 3D Mandelbrot set has historically focused on expanding complex numbers (2 components) into hypercomplex numbers (3 or 4 components) or using spherical coordinates.

The standard Mandelbulb algorithm relies on the transformation:
(x, y, z) -> (r, theta, phi)

It then powers these coordinates:
r' = r^n
theta' = theta * n
phi' = phi * n

The flaw in this approach lies in the topology of a sphere. A sphere maps a rectangular domain onto a closed surface where the top edge collapses to a single point (the North Pole) and the bottom edge collapses to a single point (the South Pole). Mathematically, the Jacobian determinant of this transformation vanishes at the poles.

Visually, this results in "smearing." The intricate details of the Mandelbrot set are crushed at phi = 0 and phi = PI. We determined that this distortion disqualifies the Mandelbulb as the "Perfect" or "True" 3D analogue, as it fails to preserve the set's detail uniformly across the surface.

2. HYPOTHESIS: THE TOROIDAL MAPPING

The Mandelbrot set lives on a flat 2D plane. To extend this to 3D without distorting the plane, we must sweep the plane through space.

If we sweep a plane linearly, we get a prism (Mandel-bar). This is infinite and lacks the containment property of the original set.

If we sweep the plane around a central point, we create a Torus.
Mathematically, a Torus is the product of two circles S1 x S1, but for our purposes, it is better viewed as a bundle where every cross-section of the ring is a perfect 2D Complex Plane.

Unlike a sphere, a Torus has no poles. The mapping from a rectangle to a torus wraps the edges but does not collapse them to a point. Therefore, we hypothesized that a Mandelbrot iteration performed in Toroidal space would exhibit zero polar distortion.

3. MATHEMATICAL DERIVATION

The Mandelorus algorithm differs from the Mandelbulb in how it decomposes the 3D position vector P(x,y,z).

3.1. Decomposition
Instead of spherical (r, theta, phi), we decompose P into:
1. Major Angle (phi): The angle around the central Z-axis.
   phi = atan2(y, x)
   
2. Cross-Section Vector (q): A 2D vector representing the point's position on the slice of the torus.
   q.x = length(x, y) - MajorRadius
   q.y = z

Here, 'q' represents a standard Complex Number on the 2D plane.

3.2. The Iteration
The Mandelbrot formula is z_new = z^n + c.

In the Mandelorus, we apply this power function strictly to the cross-section 'q'.
magnitude = length(q)
angle = atan2(q.y, q.x)

q_new.magnitude = magnitude^n
q_new.angle = angle * n

This preserves the perfect Mandelbrot shape in the cross-section.

3.3. The Solenoidal Wrap
Crucially, we must also iterate the Major Angle (phi) to match the expansion of the cross-section. If we left phi static, we would just get a ring of disconnected Mandelbrot slices.

phi_new = phi * n

This creates a "Solenoid" topology. As the cross-section iterates (expands/folds), the position wraps around the ring 'n' times. This mimics the behavior of the complex plane, where the argument multiplies by 'n'.

4. PARAMETERS AND DISTORTION TRADE-OFFS

4.1. The Twist Parameter
A pure solenoid mapping requires the start and end of the ring (0 and 2PI) to align. However, because the Mandelbrot set is asymmetric along the Real axis, simply wrapping it 360 degrees creates a visible seam or discontinuity where the "head" meets the "tail" if $N$ is not an integer.

To solve this, we introduce a **Twist**. This rotates the cross-section `q` as it travels around the ring.
While this technically re-introduces a form of spatial distortion (twisting the coordinate system), it is visually pleasing and topologically necessary for continuity. 
We define Twist such that 1.0 = one symmetry unit ($360^\circ / Power$).

4.2. Ring Radius (Major Radius)
Unlike the Mandelbulb, which grows from a single point, the Mandelorus requires a defined **Ring Radius**.
This parameter controls the "hole" of the donut.
- Small Radius: The inner parts of the fractal may overlap or self-intersect, creating complex interference patterns in the center.
- Large Radius: The fractal resembles a thin, twisted tube or cable.

5. RESULTS AND ANALYSIS

The resulting shape, the Mandelorus, exhibits specific characteristics that validate our hypothesis:

1. Absence of Poles: There are no "smeared" or "pinched" areas on the surface. The fractal detail is uniform regardless of viewing angle.
2. Infinite Tunneling: Unlike the Mandelbulb, which is a closed "ball," the Mandelorus is topologically a loop. Zooming into the body of the fractal often reveals infinite tunnel structures (solenoids) that do not terminate, mirroring the infinite recursion of the 2D set.
3. Planar Fidelity: Taking a slice of the Mandelorus reveals a shape much closer to the standard 2D Mandelbrot set than slices of the Mandelbulb, which are often distorted by the spherical projection.

6. COMPARATIVE ATTRIBUTE ANALYSIS: 2D MANDELBROT VS. 3D MANDELORUS

To determine if the Mandelorus is a valid 3D extension, we compare the defining topological features of the classic 2D Mandelbrot Set (M) against their 3D realization in the Mandelorus.

6.1. The Fidelity of the Slice (Conformal Mapping)
- 2D Attribute: The set is defined on the complex plane. Any operation z -> z^n must preserve angles (conformal).
- 3D Mandelorus: Because the Mandelorus treats the 3D space as a bundle of 2D planes, taking a "Poloidal Slice" (a cross-section perpendicular to the ring) yields the exact 2D Mandelbrot set.
- Comparison: This is a strict improvement over the Mandelbulb, where planar slices result in distorted, stretched "bean" shapes due to the non-conformal spherical projection. The Mandelorus preserves the mathematical truth of the 2D set in every vertical slice.

6.2. Bulb Hierarchy & Period Doubling
- 2D Attribute: The main Cardioid (Period 1) has a large attached bulb (Period 2) to its left, which has smaller attached bulbs (Period 4, 8...), continuing infinitely.
- 3D Mandelorus: Due to the solenoidal wrapping, these "Bulbs" are extruded into infinite "Tubes" or "Ridges" that spiral around the torus.
- Comparison: In the Mandelorus, the Period-2 bulb becomes a continuous helical pipe wrapping around the main body. The hierarchy is preserved physically: smaller tubes spiral around larger tubes, mirroring the 2D fractal's recursive budding, but extended into a 3D braid.

6.3. Connectivity (The "Orchard" Effect)
- 2D Attribute: The Mandelbrot set is mathematically simply connected; all parts are linked, even infinitely thin filaments.
- 3D Mandelorus: By twisting the cross-section in sync with the ring rotation (The "Twist" parameter), the Mandelorus connects its own tail to its head.
- Comparison: This topological closure creates a "Solenoid" structure. Unlike the 2D set which is bounded on a sheet, the Mandelorus is bounded on a ring. Filaments that would be isolated "dust" in other 3D projections (like the Mandelbulb's floating debris) are braided into a unified, connected cable in the Mandelorus.

6.4. Valley structures (Seahorse/Elephant Valleys)
- 2D Attribute: Deep valleys exist between bulbs, rich with spirals.
- 3D Mandelorus: These valleys become infinite "Canyons" or "Trenches" running along the surface of the torus.
- Comparison: Navigating these canyons in the Mandelorus creates the sensation of flying through an infinite tunnel, whereas in the 2D set, zooming into a valley eventually "bottoms out" into a mini-mandelbrot. In the Mandelorus, the valley loops forever around the ring.

7. REFERENCE IMPLEMENTATION (GLSL)

The following pseudo-GLSL demonstrates the core logic of the Distance Estimator (DE).

```glsl
// Standard Mandelbrot Power Function (z^n)
void powN(inout float r, inout float theta, float n, inout float dr) {
    dr = pow(r, n - 1.0) * n * dr + 1.0; // Chain rule derivative
    r = pow(r, n);
    theta = theta * n;
}

// Distance Estimator
float DE(vec3 p) {
    vec3 w = p;
    float dr = 1.0;
    
    // 1. Decompose Space into Toroidal Coordinates
    // -------------------------------------------
    // Major Angle (Around the ring)
    float phi = atan(w.y, w.x); 
    
    // Cross-Section (The 2D Plane)
    // x = Distance from ring center, y = Vertical height
    vec2 q = vec2(length(w.xy) - MajorRadius, w.z);

    // Iteration Loop
    for (int i = 0; i < Iterations; i++) {
    
        // 2. The Solenoid Twist
        // ---------------------
        // Rotate the cross-section based on our position along the ring.
        // This ensures the "Head" connects to the "Tail".
        // TwistAmount usually = 1.0 (Full rotation per cycle)
        float twist = phi * TwistAmount;
        float s = sin(twist); 
        float c = cos(twist);
        q = mat2(c, -s, s, c) * q;

        // 3. Mandelbrot Iteration (2D)
        // ----------------------------
        // Convert to polar for easy powering
        float r = length(q);
        float theta = atan(q.y, q.x);
        
        powN(r, theta, Power, dr);
        
        // Convert back to Cartesian
        q = vec2(r * cos(theta), r * sin(theta));
        q += vec2(length(p.xy) - MajorRadius, p.z); // Add C (Julia/Mandelbrot hybrid)

        // 4. Wrap the Ring (Solenoid)
        // --------------------------
        // We must also scale the Major Angle to match the expansion of the set
        phi = phi * Power;
        
        if (r > Bailout) break;
    }
    
    // 5. Distance Calculation
    return 0.5 * log(length(q)) * length(q) / dr;
}
```

8. CONSTRUCTION IN MANDELBULB 3D (MB3D)

While MB3D does not have a native "Mandelorus" formula, the topology can be approximated using the **dIFS (Iterated Function System)** capabilities or by stacking transforms.

**Method A: The Toroidal Transform**
1.  **Formula Slot 1:** `Toroidal` (Transform).
    *   This maps the space $(x,y,z)$ into a torus.
    *   Set the `Big Radius` to control the ring size.
2.  **Formula Slot 2:** `Mandelbrot` or `Talis` (2D fractal).
    *   This iterates the Mandelbrot set on the transformed coordinates.
    *   Ensure it is operating on the correct axes output by the Toroidal transform (usually X and Z).
3.  **Rotation:** Use the `Pre-Rotation` on Slot 2 to emulate the "Twist" parameter.

**Method B: The Cylinder Extrusion**
1.  **Formula Slot 1:** `Mandelbrot` (2D).
    *   Set `Z` to `0` or ignore Z in the iteration. This creates an infinite column (Prism).
2.  **Post-Process:** Enable `Cylindrical` or `Bending` maps in the global coordinate settings to bend the infinite column into a loop.

**Note:** These approximations in MB3D often lack the true "Solenoid" connectivity (the spiral wrapping), resulting in a simple "Lathe" (ring) of disconnected Mandelbrot slices. The true Mandelorus requires the specific angle feedback loop described in Section 3.3.

9. REFERENCES

1.  Mandelbrot, B. B. (1982). *The Fractal Geometry of Nature*. W. H. Freeman and Company.
2.  White, D. (2009). *The Mystery of the Real 3D Mandelbrot*. Fractal Forums. (The original discovery thread for the Mandelbulb).
3.  Nylander, P. (2009). *Hypercomplex Iterations - Distance Estimation*. bugman123.com. (Derivation of the spherical power formula).
4.  Smale, S. (1967). *Differentiable dynamical systems*. Bulletin of the American Mathematical Society. (For the topological basis of Solenoid attractors).
5.  Norton, Alan. (1982). *Generation and Display of Geometric Fractals in 3-D*. Computer Graphics (ACM).

10. CONCLUSION

The Mandelorus represents a significant step forward in 3D fractal geometry. By identifying the spherical coordinate system as the source of the Mandelbulb's polar flaws, and proposing a Toroidal coordinate system as the solution, we have created a 3D fractal that is topologically distinct and arguably more faithful to the original 2D Mandelbrot set. It suggests that the "natural" home of 3D complex numbers is not a sphere, but a fiber bundle over a circle.
